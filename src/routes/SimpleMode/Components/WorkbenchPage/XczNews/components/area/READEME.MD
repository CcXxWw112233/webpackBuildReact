# 城市数据的思考

- 后台给的数据结构是

```js
[
    {
        "child": [
            { 
                "id": "430000",
                "name": "湖南省",
                "deep": "1",
                "parent_id": "0",
                "child": [
                    {
                        "id": "430100",
                        "name": "长沙市",
                        "deep": "2",
                        "parent_id": "430000",
                        "child": []
                    },
                ] 
            }
        ]
    }
]
```

- 想要的数据结构

```js

// 省级数据
1. provinceData: ["浙江", "江苏"]

// 还是

2. provinceData: [
    { id: 'xxxx', name: '浙江' }
]

// 市级数据

1. cityData: {
    '浙江': ["杭州", "..."],
    '江苏': ["南京", "..."]
}

2. cityData: {
    '浙江': [
        { id: 'xxx', name: '杭州' }
    ]
}

3. cityData: [
    { 
        parentId: 'xxx', 
        childList: [
            { id: 'xxx', name: 'xxxx' }
        ] 
    }
]
```

# 地理定位的思考

1. 如何使用定位

首先我们要检测用户设备浏览器是否支持地理定位，如果支持则获取地理信息。注意，这个特性可能侵犯用户的隐私，除非用户同意，否则用户位置信息是不可用的，所以我们在访问该应用时会提示是否允许地理定位。

2. 对请求回来的数据做处理

把请求回来的数据，只需要查找到市级id，然后找到对应父级id，赋值给对应的选择框，
